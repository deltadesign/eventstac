(this.webpackJsonpeventstac=this.webpackJsonpeventstac||[]).push([[0],{39:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n(0),r=n.n(i),s=n(15),c=n.n(s),o=(n(39),n(8)),l=n(9),d=n(12),u=n(11),j=n(13),h=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=new Date(Date.parse(String(this.props.date).slice(0,10))),n=t.getDate(),i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()],r=["Jan","Feb","Mar","Apr","May","Jun","July","Aug","Sept","Oct","Nov","Dec"][t.getMonth()],s=t.getFullYear();return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:this.props.name}),Object(a.jsx)("td",{children:this.props.location}),Object(a.jsxs)("td",{children:["".concat(i," ").concat(n,"-").concat(r,"-").concat(s)," ",Object(a.jsx)("br",{})," ",this.props.time]}),Object(a.jsx)("td",{children:this.props.detail}),Object(a.jsxs)("td",{children:[" ",Object(a.jsx)(j.a,{style:{width:"3em"},variant:this.props.attending?"success":"secondary",onClick:function(){return e.props.toggleAttend()},children:this.props.attending?"Yes":"No"})]}),Object(a.jsxs)("td",{children:[Object(a.jsx)(j.a,{variant:"outline-danger",onClick:function(){return e.props.remove()},children:"X"}),Object(a.jsx)(j.a,{variant:"outline-info",className:"ml-2",onClick:function(){return e.props.editEvent()},children:"Edit"})]})]})}}]),n}(r.a.Component),v=n(6),p=n(10),b=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={disabled:!1},a}return Object(l.a)(n,[{key:"submitHandler",value:function(e){var t,n=this;e.preventDefault(),this.setState({disabled:!0}),t=this.props.event._id?this.props.ApiClient.updateEvent(this.props.event._id,e.target.name.value,e.target.location.value,e.target.date.value,e.target.time.value,e.target.detail.value):this.props.ApiClient.addEvent(e.target.name.value,e.target.location.value,e.target.date.value,e.target.time.value,e.target.detail.value),console.log(t),t.then((function(){n.setState({disabled:!1}),n.props.getEvents(),document.getElementById("addform").reset()}))}},{key:"clearForm",value:function(){this.props.getEvents(),document.getElementById("addform").reset()}},{key:"render",value:function(){var e,t,n,i,r,s,c=this;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(v.a,{id:"addform",className:"mt-2 mb-2",onSubmit:function(e){return c.submitHandler(e)},children:[Object(a.jsx)(v.a.Row,{children:Object(a.jsx)(p.a,{children:Object(a.jsx)(v.a.Group,{children:Object(a.jsx)(v.a.Control,{name:"name",type:"text",defaultValue:null===(e=this.props.event)||void 0===e?void 0:e.name,placeholder:"Event Name",disabled:this.state.disabled,required:!0})})})}),Object(a.jsx)(v.a.Row,{children:Object(a.jsx)(p.a,{children:Object(a.jsx)(v.a.Group,{children:Object(a.jsx)(v.a.Control,{name:"location",defaultValue:null===(t=this.props.event)||void 0===t?void 0:t.location,type:"text",placeholder:"Location",disabled:this.state.disabled,required:!0})})})}),Object(a.jsxs)(v.a.Row,{children:[Object(a.jsx)(p.a,{children:Object(a.jsx)(v.a.Group,{children:Object(a.jsx)(v.a.Control,{name:"date",defaultValue:null===(n=this.props.event)||void 0===n?void 0:n.date,type:"date",disabled:this.state.disabled,required:!0})})}),Object(a.jsx)(p.a,{children:Object(a.jsx)(v.a.Group,{controlId:"time",children:Object(a.jsx)(v.a.Control,{name:"time",defaultValue:null===(i=this.props.event)||void 0===i?void 0:i.time,type:"time",disabled:this.state.disabled})})})]}),Object(a.jsx)(v.a.Row,{children:Object(a.jsx)(p.a,{children:Object(a.jsx)(v.a.Group,{children:Object(a.jsx)(v.a.Control,{name:"detail",defaultValue:null===(r=this.props.event)||void 0===r?void 0:r.detail,type:"text",placeholder:"Description",disabled:this.state.disabled,required:!0})})})}),Object(a.jsx)(j.a,{className:"mr-2",variant:"outline-success",type:"submit",disabled:this.state.disabled,children:(null===(s=this.props.event)||void 0===s?void 0:s.name)?"Update":"Submit"}),Object(a.jsx)(j.a,{style:{visibility:this.props.event._id?"visible":"hidden"},variant:"outline-danger",onClick:function(){return c.clearForm()},children:"Cancel"})]})})}}]),n}(r.a.Component),O=n(31),m=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={loading:!0,eventList:[],editEvent:""},a}return Object(l.a)(n,[{key:"getEvents",value:function(){var e=this;this.props.ApiClient.getEventList().then((function(t){return e.setState({loading:!1,eventList:t.data,editEvent:[]})}))}},{key:"removeEvent",value:function(e){var t=this;this.props.ApiClient.removeEvent(e).then((function(){return t.getEvents()}))}},{key:"editEvent",value:function(e,t,n,a,i,r){this.setState({editEvent:{_id:e,name:t,location:n,date:a,time:i,detail:r}})}},{key:"toggleAttend",value:function(e){var t=this;this.props.ApiClient.toggleAttend(e).then((function(){return t.getEvents()}))}},{key:"componentDidMount",value:function(){this.getEvents()}},{key:"createEventsList",value:function(){var e=this;return this.state.eventList.map((function(t,n){return Object(a.jsx)(h,{_id:t._id,name:t.name,location:t.location,date:t.date,time:t.time,detail:t.detail,attending:t.attending,remove:function(n){return e.removeEvent(t._id)},toggleAttend:function(n){return e.toggleAttend(t._id)},editEvent:function(n){return e.editEvent(t._id,t.name,t.location,String(t.date).slice(0,10),t.time,t.detail)}},n)}))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b,{ApiClient:this.props.ApiClient,getEvents:function(){return e.getEvents()},event:this.state.editEvent}),Object(a.jsxs)(O.a,{responsive:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Event"}),Object(a.jsx)("th",{children:"Location"}),Object(a.jsx)("th",{children:"Date"}),Object(a.jsx)("th",{children:"Description"}),Object(a.jsx)("th",{children:"Attending"}),Object(a.jsx)("th",{children:"Actions"})]})}),Object(a.jsx)("tbody",{children:this.createEventsList()})]})]})}}]),n}(r.a.Component),x=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(v.a,{id:"loginform",className:"pb-2 pt-2",children:[Object(a.jsx)(v.a.Group,{controlId:"username",children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(v.a.Label,{children:"Username"}),Object(a.jsx)(v.a.Control,{type:"text",placeholder:"please enter your username"})]})}),Object(a.jsx)(v.a.Group,{controlId:"password",children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(v.a.Label,{children:"Password"}),Object(a.jsx)(v.a.Control,{type:"password",placeholder:"please enter your username"})]})}),Object(a.jsx)(p.a,{children:Object(a.jsx)(j.a,{variant:"outline-primary",children:"Log In"})})]})}}]),n}(r.a.Component),g=n(32),f=n.n(g),y="https://cors-anywhere.herokuapp.com/https://eventstac.herokuapp.com/",E=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"status",value:function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(new Error(e.text))}},{key:"request",value:function(e,t,n){return f()({method:e,url:t,data:n}).then(this.status).catch((function(e){console.log(e),alert(e)}))}},{key:"getEventList",value:function(){return this.request("get","".concat(y,"events"))}},{key:"removeEvent",value:function(e){return this.request("delete","".concat(y,"event/").concat(e))}},{key:"addEvent",value:function(e,t,n,a,i){return this.request("post","".concat(y,"event/create"),{name:e,location:t,date:n,time:a,detail:i})}},{key:"toggleAttend",value:function(e){return this.request("put","".concat(y,"attend/").concat(e))}},{key:"updateEvent",value:function(e,t,n,a,i,r){return this.request("put","".concat(y,"/event/").concat(e),{name:t,location:n,date:a,time:i,detail:r})}}]),e}(),C=(n(60),n(33)),k=n(21),A=(n(61),function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).ApiClient=new E,a}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(C.a,{className:"App",children:[Object(a.jsx)(k.a,{variant:"dark",expand:"sm",className:" mt-2 navbar",children:Object(a.jsx)(k.a.Brand,{children:"EventStagram"})}),Object(a.jsx)(x,{}),Object(a.jsx)(m,{ApiClient:this.ApiClient})]})})}}]),n}(r.a.Component)),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),r(e),s(e)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root")),w()}},[[62,1,2]]]);
//# sourceMappingURL=main.23d92743.chunk.js.map