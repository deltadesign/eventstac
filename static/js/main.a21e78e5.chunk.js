(this.webpackJsonpeventstac=this.webpackJsonpeventstac||[]).push([[0],{39:function(t,e,n){},61:function(t,e,n){},62:function(t,e,n){"use strict";n.r(e);var a=n(1),i=n(0),r=n.n(i),c=n(14),s=n.n(c),o=(n(39),n(8)),l=n(9),d=n(11),u=n(10),h=n(16),j=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:this.props.name}),Object(a.jsx)("td",{children:this.props.location}),Object(a.jsx)("td",{children:this.props.date}),Object(a.jsx)("td",{children:this.props.detail}),Object(a.jsxs)("td",{children:[" ",Object(a.jsx)(h.a,{variant:this.props.attending?"success":"secondary",onClick:function(){return t.props.toggleAttend()},children:this.props.attending?"Yes":"No"})]}),Object(a.jsx)("td",{children:Object(a.jsx)(h.a,{variant:"outline-danger",onClick:function(){return t.props.remove()},children:"X"})})]})}}]),n}(r.a.Component),b=n(6),v=n(13),p=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={name:"",location:"",date:"",time:"",detail:"",disabled:!1},a}return Object(l.a)(n,[{key:"changeHandler",value:function(t){var e={};e[t.target.name]=t.target.value,this.setState(e)}},{key:"submitHandler",value:function(t){var e=this;this.setState({disabled:!0}),t.preventDefault(),this.props.ApiClient.addEvent(this.state.name,this.state.location,this.state.date,this.state.detail).then((function(){return e.props.getEvents()})).then((function(){return e.setState({name:"",location:"",date:"",time:"",detail:"",disabled:!1})}))}},{key:"render",value:function(){var t=this;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(b.a,{className:"mt-2 mb-2",onSubmit:function(e){return t.submitHandler(e)},children:[Object(a.jsx)(b.a.Row,{children:Object(a.jsx)(v.a,{children:Object(a.jsx)(b.a.Group,{controlId:"name",children:Object(a.jsx)(b.a.Control,{name:"name",type:"text",value:this.state.name,placeholder:"Event Name",onChange:function(e){return t.changeHandler(e)},disabled:this.state.disabled,required:!0})})})}),Object(a.jsx)(b.a.Row,{children:Object(a.jsx)(v.a,{children:Object(a.jsx)(b.a.Group,{controlId:"location",children:Object(a.jsx)(b.a.Control,{name:"location",value:this.state.location,type:"text",placeholder:"Location",onChange:function(e){return t.changeHandler(e)},disabled:this.state.disabled,required:!0})})})}),Object(a.jsxs)(b.a.Row,{children:[Object(a.jsx)(v.a,{children:Object(a.jsx)(b.a.Group,{controlId:"date",children:Object(a.jsx)(b.a.Control,{name:"date",value:this.state.date,type:"date",onChange:function(e){return t.changeHandler(e)},disabled:this.state.disabled,required:!0})})}),Object(a.jsx)(v.a,{children:Object(a.jsx)(b.a.Group,{controlId:"time",children:Object(a.jsx)(b.a.Control,{name:"time",value:this.state.time,type:"time",onChange:function(e){return t.changeHandler(e)},disabled:this.state.disabled,required:!0})})})]}),Object(a.jsx)(b.a.Row,{children:Object(a.jsx)(v.a,{children:Object(a.jsx)(b.a.Group,{controlId:"detail",children:Object(a.jsx)(b.a.Control,{name:"detail",value:this.state.detail,type:"text",placeholder:"Summary",onChange:function(e){return t.changeHandler(e)},disabled:this.state.disabled,required:!0})})})}),Object(a.jsx)(h.a,{variant:"outline-success",type:"submit",disabled:this.state.disabled,children:"Submit"})]})})}}]),n}(r.a.Component),O=n(31),m=function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={loading:!0,eventList:[]},a}return Object(l.a)(n,[{key:"getEvents",value:function(){var t=this;this.props.ApiClient.getEventList().then((function(e){return t.setState({loading:!1,eventList:e.data})}))}},{key:"removeEvent",value:function(t){var e=this;this.props.ApiClient.removeEvent(t).then((function(){return e.getEvents()}))}},{key:"toggleAttend",value:function(t){var e=this;this.props.ApiClient.toggleAttend(t).then((function(){return e.getEvents()}))}},{key:"componentDidMount",value:function(){this.getEvents()}},{key:"createEventsList",value:function(){var t=this;return this.state.eventList.map((function(e,n){return Object(a.jsx)(j,{_id:e._id,name:e.name,location:e.location,date:e.date,detail:e.detail,attending:e.attending,remove:function(n){return t.removeEvent(e._id)},toggleAttend:function(n){return t.toggleAttend(e._id)}},n)}))}},{key:"render",value:function(){var t=this;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(p,{ApiClient:this.props.ApiClient,getEvents:function(){t.getEvents()}}),Object(a.jsxs)(O.a,{responsive:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Event"}),Object(a.jsx)("th",{children:"Location"}),Object(a.jsx)("th",{children:"Date"}),Object(a.jsx)("th",{children:"Summary"}),Object(a.jsx)("th",{children:"Attending"}),Object(a.jsx)("th",{})]})}),Object(a.jsx)("tbody",{children:this.createEventsList()})]})]})}}]),n}(r.a.Component),x=n(32),g=n.n(x),f="https://cors-anywhere.herokuapp.com/https://eventstac.herokuapp.com/",y=function(){function t(){Object(o.a)(this,t)}return Object(l.a)(t,[{key:"status",value:function(t){return t.status>=200&&t.status<300?Promise.resolve(t):Promise.reject(new Error(t.text))}},{key:"request",value:function(t,e,n){return g()({method:t,url:e,data:n}).then(this.status).catch((function(t){console.log(t),alert(t)}))}},{key:"getEventList",value:function(){return this.request("get","".concat(f,"events"))}},{key:"removeEvent",value:function(t){return this.request("delete","".concat(f,"event/").concat(t))}},{key:"addEvent",value:function(t,e,n,a){return this.request("post","".concat(f,"event/create"),{name:t,location:e,date:n,detail:a})}},{key:"toggleAttend",value:function(t){return this.request("put","".concat(f,"attend/").concat(t))}},{key:"updateEvent",value:function(){}}]),t}(),C=(n(60),n(33)),k=n(21),E=(n(61),function(t){Object(d.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).ApiClient=new y,a}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(C.a,{className:"App",children:[Object(a.jsx)(k.a,{variant:"dark",expand:"sm",className:" mt-2 navbar",children:Object(a.jsx)(k.a.Brand,{children:"EventStagram"})}),Object(a.jsx)(m,{ApiClient:this.ApiClient})]})})}}]),n}(r.a.Component)),A=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,c=e.getTTFB;n(t),a(t),i(t),r(t),c(t)}))};s.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(E,{})}),document.getElementById("root")),A()}},[[62,1,2]]]);
//# sourceMappingURL=main.a21e78e5.chunk.js.map